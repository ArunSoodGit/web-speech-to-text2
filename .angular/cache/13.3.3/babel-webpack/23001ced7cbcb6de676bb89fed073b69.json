{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\nimport { InvalidOperationError } from \"../common/Error\";\nimport { DialogServiceTurnState } from \"./DialogServiceTurnState\";\nexport class DialogServiceTurnStateManager {\n  constructor() {\n    this.privTurnMap = new Map();\n    return;\n  }\n\n  StartTurn(id) {\n    if (this.privTurnMap.has(id)) {\n      throw new InvalidOperationError(\"Service error: There is already a turn with id:\" + id);\n    }\n\n    const turnState = new DialogServiceTurnState(this, id);\n    this.privTurnMap.set(id, turnState);\n    return this.privTurnMap.get(id);\n  }\n\n  GetTurn(id) {\n    return this.privTurnMap.get(id);\n  }\n\n  CompleteTurn(id) {\n    if (!this.privTurnMap.has(id)) {\n      throw new InvalidOperationError(\"Service error: Received turn end for an unknown turn id:\" + id);\n    }\n\n    const turnState = this.privTurnMap.get(id);\n    turnState.complete();\n    this.privTurnMap.delete(id);\n    return turnState;\n  }\n\n} //# sourceMappingURL=DialogServiceTurnStateManager.js.map","map":null,"metadata":{},"sourceType":"module"}